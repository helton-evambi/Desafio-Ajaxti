<form [formGroup]="authorForm" (ngSubmit)="onSubmit()">
  <div class="form-row">
    <app-form-input
      label="Nome"
      placeholder="Digite o nome"
      [required]="true"
      [hasError]="isFieldInvalid('firstName')"
      errorMessage="O nome é obrigatório"
      formControlName="firstName"
    >
    </app-form-input>

    <app-form-input
      label="Sobrenome"
      placeholder="Digite o sobrenome"
      [required]="true"
      [hasError]="isFieldInvalid('lastName')"
      errorMessage="O sobrenome é obrigatório"
      formControlName="lastName"
    >
    </app-form-input>
  </div>

  <div class="form-row">
    <app-form-input
      label="Data de Nascimento"
      type="date"
      formControlName="dateOfBirth"
    >
    </app-form-input>

    <app-form-input
      label="Data de Falecimento"
      type="date"
      formControlName="dateOfDeath"
    >
    </app-form-input>
  </div>

  <app-form-textarea
    label="Biografia"
    placeholder="Escreva sobre o autor..."
    [rows]="4"
    formControlName="biography"
  >
  </app-form-textarea>

  <div class="form-actions">
    <button type="button" class="btn btn-secondary" (click)="onCancel()">
      <i class="fas fa-times"></i>
      Cancelar
    </button>
    <button type="submit" class="btn" [disabled]="authorForm.invalid || saving">
      <i class="fas fa-spinner fa-spin" *ngIf="saving; else saveIcon"></i>
      <ng-template #saveIcon>
        <i class="fas fa-save"></i>
      </ng-template>
      {{ saving ? "Salvando..." : "Salvar Autor" }}
    </button>
  </div>
</form>
